<head>
	<title>loggerly</title>
</head>

<body>
<div class="container ">
<div class="hero-unit">
	<h1>Loggerly
		<small>simply logging</small>
	</h1>
</div>
{{> testbar}}
{{> toolbar}}
{{> grid}}
</div>
</body>

<template name="testbar">
	<form style="display:none">
		<a id="testInfoButton" class="btn btn-info">Test info</a>
		<a id="testWarningButton" class="btn btn-warning">Test warning</a>
		<a id="testErrorButton" class="btn btn-danger">Test error</a>
	</form>
</template>

<template name="toolbar">
	<form class="navbar-search pull-left">
		<input type="text" class="search-query" placeholder="Search">

		<div class="btn-group">
			<button data-type="level" data-level="debug" class="btn btn-success active" >Debug</button>
			<button data-type="level" data-level="info" class="btn btn-info active" >Info</button>
			<button data-type="level" data-level="warn" class="btn btn-warning active">Warn</button>
			<button data-type="level" data-level="error" class="btn btn-danger active">Error</button>
			<button data-type="level" data-level="fatal" class="btn btn-inverse active">Fatal</button>
		</div>

		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
				Clear
				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu">
				<li><a data-type="clear" data-clear="all-except-fatal">Clear all except fatal</a></li>
				<li><a data-type="clear" data-clear="all-except-error-fatal">Clear all except error or fatal</a></li>
				<hr/>
				<li><a data-type="clear" data-clear="older-than-hour">Clear all older than 1 hour</a></li>
				<li><a data-type="clear" data-clear="older-than-day">Clear all older than 1 day</a></li>
				<li><a data-type="clear" data-clear="older-than-week">Clear all older than 1 week</a></li>
				<hr/>
				<li><a data-type="clear" data-clear="all">Clear everything</a></li>
			</ul>
		</div>
	</form>
</template>

<template name="grid">
	<table class="table table-striped">
		<tr>
			<th>Time</th>
			<th>Source</th>
			<th>Message</th>
		</tr>

		{{#each logs}}
		<tr class="{{logLevelClass level}}">
			<td class="span2" >{{formatDate timestamp}}</td>
			<td class="span2">{{source}}</td>
			<td class="span8">{{message}}</td>
		</tr>
		{{/each}}
	</table>
</template>